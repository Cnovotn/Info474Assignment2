var helpers = require("../node_modules/@parcel/transformer-react-refresh-wrap/lib/helpers/helpers.js");
var prevRefreshReg = window.$RefreshReg$;
var prevRefreshSig = window.$RefreshSig$;
helpers.prelude(module);
try {
  var _parcelHelpers = require("@parcel/transformer-js/lib/esmodule-helpers.js");
  _parcelHelpers.defineInteropFlag(exports);
  var _react = require("react");
  var _reactDefault = _parcelHelpers.interopDefault(_react);
  require('./style.css');
  var _hooksUseFetch = require("../hooks/useFetch");
  var _vegaEmbed = require('vega-embed');
  var _vegaEmbedDefault = _parcelHelpers.interopDefault(_vegaEmbed);
  var _jsxFileName = "/Users/claytonnovotney/Desktop/UW/Spring2021/Info474/Assignment2/Info474Assignment2/src/CreateVisual.js", _s2 = $RefreshSig$();
  function CreateVisual() {
    _s2();
    var _s = $RefreshSig$();
    const [index, setIndex] = _react.useState(0);
    const githubDataURL = 'https://raw.githubusercontent.com/Cnovotn/Info474Assignment2/main/data/';
    const order = ["Wins", "Salary", "Hits", "RBI's", "Homeruns", "Strikeouts"];
    const dataPoints = {
      "Wins": {
        "Endpoint": "franchisewins2001.csv",
        "X-Field": "Franchise",
        "Y-Field": "Wins",
        "Title": "2001 Total Wins For Each Franchise",
        "Description": "Description for the wins of 2001 teams"
      },
      "Salary": {
        "Endpoint": "FranchiseSalary.csv",
        "X-Field": "Franchise",
        "Y-Field": "TeamSalary",
        "Title": "2001 Total Salary For Each Franchise",
        "Description": "Description for the salary of 2001 teams"
      },
      "Hits": {
        "Endpoint": "franchise-hits-data--info474-QueryResult.csv",
        "X-Field": "franchise",
        "Y-Field": "Hits",
        "Title": "2001 Total Hits For Each Franchise",
        "Description": "Description for the hits of 2001 teams"
      },
      "RBI's": {
        "Endpoint": "franchise-rbis-data--info474-QueryResult.csv",
        "X-Field": "Franchise",
        "Y-Field": "RBIs",
        "Title": "2001 Total RBI's For Each Franchise",
        "Description": "Description for the RBI's of 2001 teams"
      },
      "Homeruns": {
        "Endpoint": "franchise-homeruns-d-info474-QueryResult.csv",
        "X-Field": "Franchise",
        "Y-Field": "Homeruns",
        "Title": "2001 Total Homeruns For Each Franchise",
        "Description": "Description for the Homeruns of 2001 teams"
      },
      "Strikeouts": {
        "Endpoint": "franchisestrikeouts-info474-QueryResult.csv",
        "X-Field": "Franchise",
        "Y-Field": "NumStrikeouts",
        "Title": "2001 Total Strikeouts For Each Franchise",
        "Description": "Description for the Strikeouts of 2001 teams"
      }
    };
    function nextVisual() {
      console.log("next index" + index);
      if (index == order.length) {
        setIndex(0);
      } else {
        setIndex(index + 1);
      }
      var thisInfo = dataPoints[order[index]];
      populateData(thisInfo);
    }
    function lastVisual() {
      console.log("last index" + index);
      if (index == -1) {
        setIndex(order.length - 1);
      } else {
        setIndex(index - 1);
      }
      var thisInfo = dataPoints[order[index]];
      populateData(thisInfo);
    }
    var thisDataInfo = dataPoints["Wins"];
    var [data, loading] = _hooksUseFetch.useFetch(githubDataURL + dataPoints["Wins"]["Endpoint"]);
    function populateData(thisDataInfo) {
      _s();
      console.log(thisDataInfo);
      var [data, loading] = _hooksUseFetch.useFetch(githubDataURL + thisDataInfo["Endpoint"]);
      var vegaVariables = {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "description": "A simple bar chart looking at all of the MLB franchises salary for 2001.",
        "title": thisDataInfo["Title"],
        "width": screen.width / 1.5,
        "height": "400",
        "data": {
          "values": data
        },
        "mark": {
          "type": "bar",
          "cornerRadiusEnd": 1
        },
        "encoding": {
          "x": {
            "field": thisDataInfo["X-Field"],
            "type": "nominal",
            "axis": {
              "labelAngle": -90
            }
          },
          "y": {
            "field": thisDataInfo["Y-Field"],
            "type": "quantitative"
          }
        }
      };
      _vegaEmbedDefault.default('#visualization', vegaVariables);
    }
    _s(populateData, "Jm65JCcgUFoenM4DufkEA80vRVI=", false, function () {
      return [_hooksUseFetch.useFetch];
    });
    populateData(thisDataInfo);
    return (
      /*#__PURE__*/_reactDefault.default.createElement("div", {
        id: "data-context",
        className: "flexed",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 101,
          columnNumber: 9
        }
      }, /*#__PURE__*/_reactDefault.default.createElement("div", {
        className: "left-side",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 102,
          columnNumber: 13
        }
      }, /*#__PURE__*/_reactDefault.default.createElement("button", {
        onClick: lastVisual,
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 103,
          columnNumber: 17
        }
      }, "Last")), /*#__PURE__*/_reactDefault.default.createElement("div", {
        className: "data-center",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 105,
          columnNumber: 13
        }
      }, /*#__PURE__*/_reactDefault.default.createElement("div", {
        className: "centered",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 106,
          columnNumber: 17
        }
      }, /*#__PURE__*/_reactDefault.default.createElement("div", {
        id: "visualization",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 107,
          columnNumber: 21
        }
      }, /*#__PURE__*/_reactDefault.default.createElement("p", {
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 108,
          columnNumber: 25
        }
      }, loading && "Loading the data!!!"), /*#__PURE__*/_reactDefault.default.createElement("svg", {
        width: "600",
        height: "500",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 109,
          columnNumber: 25
        }
      })), /*#__PURE__*/_reactDefault.default.createElement("p", {
        className: "vis-description",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 111,
          columnNumber: 21
        }
      }, "Description for the team salarys of 2001"))), /*#__PURE__*/_reactDefault.default.createElement("div", {
        className: "right-side",
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 114,
          columnNumber: 13
        }
      }, /*#__PURE__*/_reactDefault.default.createElement("button", {
        onClick: nextVisual,
        __self: this,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 115,
          columnNumber: 17
        }
      }, "Next")))
    );
  }
  _s2(CreateVisual, "1CyPJ9H6BRPatdvG1TE6Om5G8Gs=", false, function () {
    return [_hooksUseFetch.useFetch];
  });
  _c = CreateVisual;
  exports.default = CreateVisual;
  var _c;
  $RefreshReg$(_c, "CreateVisual");
  helpers.postlude(module);
} finally {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
